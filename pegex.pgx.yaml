---
_FIRST_RULE: grammar
all_group:
  +all:
  - +rule: rule_item
  - +all:
    - +re: \s*
    - +rule: rule_item
      <: +
    - +re: \s*
any_group:
  +all:
  - +rule: rule_item
  - +all:
    - +re: \s*\|\s*
    - +rule: rule_item
    <: +
bracketed_group:
  +all:
  - +re: \[\s*
  - +rule: rule_group
  - +re: \s*\]
  - +rule: group_quantifier
    <: '?'
comment:
  +re: (?:[\ \t]*\r?\n|\#.*\r?\n)
grammar:
  +all:
  - +all:
    - +rule: comment
      <: '*'
    - +rule: rule_definition
    <: +
  - +rule: comment
    <: '*'
group_quantifier:
  +re: ([\*\+\?])
regular_expression:
  +re: /([^/]*)/
rule_definition:
  +all:
  - +re: \s*
  - +rule: rule_name
  - +re: '[\ \t]*:\s*'
  - +rule: rule_item
  - +rule: rule_ending
rule_ending:
  +re: \s*?(?:\n\s*|;\s*|\z)
rule_group:
  +any:
  - +rule: any_group
  - +rule: all_group
rule_item:
  +any:
  - +rule: bracketed_group
  - +rule: regular_expression
  - +rule: rule_reference
rule_name:
  +re: ([a-zA-Z]\w*)
rule_reference:
  +re: <([!&]?)([a-zA-Z]\w*)>([\*\+\?]?)
