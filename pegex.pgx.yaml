---
_FIRST_RULE: grammar
bracketed_group:
  +all:
  - +re: \[\s*
  - +rule: rule_group
  - +re: \s*\]
comment:
  +re: (?:[\ \t]*\r?\n|\#.*\r?\n)
grammar:
  +all:
  - +all:
    - +rule: comment
      <: '*'
    - +rule: rule_definition
    <: +
  - +rule: comment
    <: '*'
regular_expression:
  +re: /([^/]*)/
rule_alternation:
  +all:
  - +rule: rule_set
  - +all:
    - +re: \s*\|\s*
    - +rule: rule_set
    <: +
rule_definition:
  +all:
  - +rule: rule_name
  - +re: '[\ \t]*:\s*'
  - +rule: rule_set
  - +rule: rule_ending
rule_ending:
  +re: \s*[\n|;]
rule_group:
  +any:
  - +rule: rule_sequence
  - +rule: rule_alternation
rule_name:
  +re: ([a-zA-Z]\w*)
rule_reference:
  +re: <([!&]?)(([a-zA-Z]\w*))>
rule_sequence:
  +all:
  - +rule: rule_set
  - +all:
    - +re: \s*
    - +rule: rule_set
      <: +
    - +re: \s*
rule_set:
  +any:
  - +rule: regular_expression
  - +rule: rule_reference
  - +rule: bracketed_group
  - +rule: rule_group
